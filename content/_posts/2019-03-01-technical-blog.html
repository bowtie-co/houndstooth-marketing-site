---
layout: post
title: Houndstooth Under the Hood
subtitle_body: null
_date: '2019-02-06 15:36:37'
posted_at: null
permalink: null
masthead:
  img_path: null
  pat_path: /assets/images/backgrounds/houndtooth-pat-dark.png
  overlay: false
categories:
  - BowTie
  - Houndstooth
elsewhere:
  name: null
  url: null
comments: true
share: false
seo:
  title: null
  description: null
  canonical: null
  noindex: false
social:
  title: null
  description: null
  img_path: null

---
<p dir="ltr" style="line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;"><span style="font-size: 11pt; font-family: Arial; color: #000000; background-color: transparent; font-weight: bold; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">A Little History</span></p>
<p><strong id="docs-internal-guid-67c73d8e-7fff-b7e9-075e-ed12e1eab08a" style="font-weight: normal;">&nbsp;</strong></p>
<p dir="ltr" style="line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">The Bowtie team has been working on Houndstooth over the past year and we are proud to finally introduce our editor to the open source community! &nbsp;To better understand the component structure and architectural decisions, it might be helpful to start off with some background of the development and evolution of the app.</span></p>
<p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong style="font-weight: normal;">&nbsp;</strong></span></p>
<p dir="ltr" style="line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Since the ideation stages of Houndstooth, our team has been experimenting with different approaches of how to best engineer the app. Our primary goal was to structure the frontend in a way that would be scalable while maintaining the app&rsquo;s integrity through consistent and reliable patterns of component hierarchy and state management. State management was a concern, with features like staging commits and toggling back and forth between the File Editor and Collection Editor. Both the File Editor and Collection Editor are very different environments that interact with the state differently. We felt it would be useful to have a global state management system to allow all components to interact with a repo, collection items, and staged files directly.</span></p>
<p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong style="font-weight: normal;">&nbsp;</strong></span></p>
<p dir="ltr" style="line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">For the first version of Houndstooth, we decided to solve this problem by managing state using Redux, and designing most of our React components as Class based components. As we got further into the development, the complexities grew. Our components were lengthy, complicated, and difficult to understand. This sparked conversations of exploring different and better ways to approach the structural design of the app without Redux. </span></p>
<p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong style="font-weight: normal;">&nbsp;</strong></span></p>
<p dir="ltr" style="line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000; background-color: transparent; font-weight: 400; font-style: italic; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Enter Recompose and the Atomic Methodology. </span></p>
<p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong style="font-weight: normal;">&nbsp;</strong></span></p>
<p dir="ltr" style="line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">The combination of the Recompose library and the Atomic Methodology for component hierarchy solved a lot of problems Houndstooth was facing. This pattern also made the app more performant, lightweight, and organized.</span></p>
<p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong style="font-weight: normal;">&nbsp;</strong></span></p>
<p dir="ltr" style="line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000; background-color: transparent; font-weight: bold; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Component Hierarchy</span></p>
<p>&nbsp;</p>
<p dir="ltr" style="line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">In the atomic methodology, components are categorized into 4 categories, which we are defining as such: </span></p>
<ul>
<li dir="ltr" style="line-height: 1.38;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000; background-color: transparent; font-weight: bold; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Atoms</span><span style="color: #000000; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">: very basic, stateless components that act as building blocks for the app. These could include basic HTML elements like form labels, inputs, buttons, etc. </span></span></li>
<li dir="ltr" style="line-height: 1.38;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000; background-color: transparent; font-weight: bold; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Molecules</span><span style="color: #000000; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">: built on a combination of Atoms, but they are still fairly basic and stateless. Molecules rely only on general props in order to maintain its reusability. The components are expected to be fully functional in any parent component for any application without modifications.</span></span></li>
<li dir="ltr" style="line-height: 1.38;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000; background-color: transparent; font-weight: bold; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Organisms: </span><span style="color: #000000; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">More robust components built of Atoms and Molecules. Organisms can have state that is specific to the application, but typically just internal state that the rest of the app does not rely on.</span></span></li>
<li dir="ltr" style="line-height: 1.38;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000; background-color: transparent; font-weight: bold; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Ecosystems: </span><span style="color: #000000; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Ecosystems are grouped by the data they manage. You can think of an Ecosystem as the controller for a specific group of data. They control the flow of shared data to their children and routing to nested components. The views of Ecosystems should not be too complex. Essentially just a rendering of organisms and routes.</span></span></li>
<li dir="ltr" style="line-height: 1.38;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000; background-color: transparent; font-weight: bold; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Environments: </span><span style="color: #000000; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Environments are similar to Ecosystems, but they serve as a wrapper for the entire application. It is what actually gets rendered by React. They manage very high level data that everything in the app needs to know, i.e. authenticated user. </span></span></li>
</ul>
<p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong style="font-weight: normal;">&nbsp;</strong></span></p>
<p dir="ltr" style="line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">With this methodology, we are able to group our data and organize out components accordingly. This also allows us to fully capitalize on the reusability of our components! The image below shows how Houndstooth ecosystems and state management is organized:</span></p>
<p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong style="font-weight: normal;"><br /><img style="border: none; transform: rotate(0.00rad); -webkit-transform: rotate(0.00rad);" src="https://lh5.googleusercontent.com/wwePQ8Pos_xoUNjis9YgSwL-oa9d_rPCVub4UB2enSqGmsSg6wbNddL-tJ_wKn_7_H6BBGW26OWpKtw6Ohu-T6ls2uUMqp-5ihqK0CQBWES421uYCLIvUT-fiE1FvRwNadsm9SGI" width="785" height="495" /></strong></span></p>
<p dir="ltr" style="line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">At this point you may be asking &lsquo;where does Recompose come in&rsquo;? Recompose is a utility library for React components intended to allow a user to build components based on composition, rather than inheritance. Recompose methods create a chain of higher order components to inject logic, props, state, and handlers into a block of renderable jsx. With the Atomic organization of components this becomes a very powerful combination. We are able to create only stateless, presentational components that are more performant, lightweight, testable, and abstracted, then use containers to completely separate out the logic.</span></p>
<p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong style="font-weight: normal;">&nbsp;</strong></span></p>
<p dir="ltr" style="line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Our containers are separated into component specific containers and helper containers. You will find component specific containers in the same directory as the view file and helper containers inside of `</span><span style="color: #000000; background-color: transparent; font-weight: 400; font-style: italic; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">/src/helpers</span><span style="color: #000000; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">`. The helper containers are grouped by what they manage. </span></span></p>
<p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong style="font-weight: normal;">&nbsp;</strong></span></p>
<p dir="ltr" style="line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">For example, we have a </span><span style="color: #000000; background-color: transparent; font-weight: 400; font-style: italic; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">withFormatting</span><span style="color: #000000; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> container that contains all our formatting helper functions. If a component needs to format a currency for example, we can inject the </span><span style="color: #000000; background-color: transparent; font-weight: 400; font-style: italic; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">withFormatting</span><span style="color: #000000; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> into the component&rsquo;s container. Now, that component has access to all the format helper functions. We don&rsquo;t need to worry about passing these props and handlers down to their nested components, we just inject it into their containers. </span></span></p>
<p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong style="font-weight: normal;">&nbsp;</strong></span></p>
<p dir="ltr" style="line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">We are very proud of how far Houndstooth has come and we hope the open source community will find this helpful. </span></p>
<p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong style="font-weight: normal;">&nbsp;</strong></span></p>
<p dir="ltr" style="line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">If you wish to contribute to the Houndstooth open source project, and we hope you will, please take the time to learn some of the patterns we are using to maintain consistency. </span></p>
<p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong style="font-weight: normal;">&nbsp;</strong></span></p>
<p dir="ltr" style="line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Happy coding!</span></p>
<p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong style="font-weight: normal;">&nbsp;</strong></span></p>
<p dir="ltr" style="line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">You can learn more about Houndstooth and start using it at </span><a style="text-decoration: none;" href="https://houndstooth.work"><span style="color: #1155cc; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: underline; text-decoration-skip-ink: none; vertical-align: baseline; white-space: pre-wrap;">https://houndstooth.work</span></a></span></p>
<p dir="ltr" style="line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">To contribute, visit the repo on GitHub at </span><a style="text-decoration: none;" href="https://github.com/bowtie-co/houndstooth"><span style="color: #1155cc; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: underline; text-decoration-skip-ink: none; vertical-align: baseline; white-space: pre-wrap;">https://github.com/bowtie-co/houndstooth</span></a></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
